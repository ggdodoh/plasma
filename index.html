<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>í”Œë¼ì¦ˆë§ˆ ì„í”¼ë˜ìŠ¤ ì‹œë®¬ë ˆì´í„°</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial; padding: 20px; }
    input { margin: 5px; width: 100px; }
  </style>
</head>
<body>
  <h2>ğŸ“¡ í”Œë¼ì¦ˆë§ˆ ì„í”¼ë˜ìŠ¤ ì‹œë®¬ë ˆì´í„° (R, L, C ê¸°ë°˜)</h2>
  <p>ì£¼íŒŒìˆ˜ì— ë”°ë¥¸ |Z|, Re(Z), Im(Z) ê·¸ë˜í”„</p>

  <label>ì €í•­ R (Î©): <input type="number" id="res" value="5" /></label>
  <label>ì¸ë•í„´ìŠ¤ L (H): <input type="number" id="ind" value="1e-6" /></label>
  <label>ì»¤íŒ¨ì‹œí„´ìŠ¤ C (F): <input type="number" id="cap" value="1e-9" /></label>
  <button onclick="plotImpedance()">ì‹œë®¬ë ˆì´ì…˜</button>

  <div id="plot" style="width:100%;height:500px;"></div>

  <script>
    function plotImpedance() {
      const R = parseFloat(document.getElementById("res").value);
      const L = parseFloat(document.getElementById("ind").value);
      const C = parseFloat(document.getElementById("cap").value);

      let freq = [], Zmag = [], Zre = [], Zim = [];

      for (let f = 1e5; f <= 1e7; f += 1e5) {
        const omega = 2 * Math.PI * f;
        const XL = omega * L;
        const XC = 1 / (omega * C);
        const ReZ = R;
        const ImZ = XL - XC;
        const MagZ = Math.sqrt(ReZ ** 2 + ImZ ** 2);

        freq.push(f / 1e6); // MHz ë‹¨ìœ„
        Zmag.push(MagZ);
        Zre.push(ReZ);
        Zim.push(ImZ);
      }

      const trace1 = { x: freq, y: Zmag, mode: 'lines', name: '|Z| (ì„í”¼ë˜ìŠ¤ í¬ê¸°)' };
      const trace2 = { x: freq, y: Zre, mode: 'lines', name: 'Re(Z)' };
      const trace3 = { x: freq, y: Zim, mode: 'lines', name: 'Im(Z)' };

      const layout = {
        title: 'ì£¼íŒŒìˆ˜(MHz) vs ì„í”¼ë˜ìŠ¤',
        xaxis: { title: 'ì£¼íŒŒìˆ˜ (MHz)' },
        yaxis: { title: 'ì„í”¼ë˜ìŠ¤ (Î©)' }
      };

      Plotly.newPlot('plot', [trace1, trace2, trace3], layout);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ ì‹¤í–‰
    window.onload = plotImpedance;
  </script>
</body>
</html>
